<app-header></app-header>

<ion-content>
  <ion-grid class="ion-no-padding">
    <ion-row class="ion-no-padding">
      <ion-col class="ion-no-padding">
        <form [formGroup]="formRegistro" (ngSubmit)="guardar()" class="ion-no-padding">
          <ion-item>
            <ion-label position="stacked">
              TIPO DE IDENTIFICACIÓN
            </ion-label>
            <ion-select class="custom-options" 
                          formControlName ="tipoIdentificacion"
                          placeholder='Seleccionar'>
                          <ion-select-option *ngFor="let tipo of listaTipoId" value={{tipo.nombre_tipo}}>{{tipo.nombre_tipo}}</ion-select-option>
              </ion-select>
          </ion-item>
          <div *ngFor="let error of errorMensaje.tipoIdentificacion">
            <ng-container *ngIf="tipoIdentificacion.hasError(error.type) && (tipoIdentificacion.dirty || tipoIdentificacion.touched)">
              <small class="error-message">{{error.message}} </small>
            </ng-container>            
          </div>
          <ion-item>
            <ion-label position="stacked">
              NÚMERO DE IDENTIFICACIÓN
            </ion-label>
            <ion-input  inputmode="numeric"
                        pattern = "[0-9]*"
                        type= "text"
                        formControlName ="numeroIdentificacion"
                        >
            </ion-input>
          </ion-item>
          <div *ngFor="let error of errorMensaje.numeroIdentificacion">
            <ng-container *ngIf="numeroIdentificacion.hasError(error.type) && (numeroIdentificacion.dirty || numeroIdentificacion.touched)">
              <small class="error-message">{{error.message}} </small>
            </ng-container>            
          </div>
          <ion-item>
            <ion-label position="stacked">
              NOMBRE COMPLETO
            </ion-label>
            <ion-input  type= "text"
                        formControlName ="nombreCliente"
                        >
            </ion-input>
          </ion-item>
          <div *ngFor="let error of errorMensaje.nombreCliente">
            <ng-container *ngIf="nombreCliente.hasError(error.type) && (nombreCliente.dirty || nombreCliente.touched)">
              <small class="error-message">{{error.message}} </small>
            </ng-container>            
          </div>
          <ion-item>
            <ion-label position="stacked">
              CONTRASEÑA
            </ion-label>
            <ion-input [type]="passwordType"
                        formControlName ="password"
                        >
            </ion-input>
            <ion-icon slot="end" [color]= "passwordFlag === true ? 'dark' : 'gray'" [name]="passwordFlag === true ? 'eye-off-outline' : 'eye-outline'" (click) = "changeType();"></ion-icon>
          </ion-item>
          <div *ngFor="let error of errorMensaje.password">
            <ng-container *ngIf="password.hasError(error.type) && (password.dirty || password.touched)">
              <small class="error-message">{{error.message}}</small>
            </ng-container>                    
          </div>
          <ion-button expand="block" shape="round" type="submit" color="primary" [disabled]="!formRegistro.valid">
            Crear cuenta
          </ion-button>
        </form>
        <ion-label>
          <p>¿Olvidó su contraseña?</p>            
        </ion-label>
        
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
<app-fotter-externo></app-fotter-externo>
